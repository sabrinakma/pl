<pl-question-panel>
    <p>
    You're given the following table of some of the highest grossing actors and their most popular films! 
    You're interested in doing a study to see which actor has been in the most productions.
    </p>
    <pl-dataframe params-name="df" show-python="false" show-index="false"></pl-dataframe>
    </pl-question-panel>
    
    <div class="card my-2">
    <div class="card-body">
    
    <pl-question-panel>
    <p>
    You want to list the actors by the number of productions they have been in, from the greatest to the least.
    Considering this table, what should be the first table method used? Hint: we've identified the column that you want to perform the operation on!
    Plus, which method utilizes a descending parameter?
    </p>
    </pl-question-panel>

    <p>Select the operation and fill in the missing parameter!</p>
    actors.
<pl-dropdown sort="ascend" answers-name="mcq">
  <pl-answer correct="true">SORT</pl-answer>
  <pl-answer correct="false">GROUP</pl-answer>
  <pl-answer correct="false">WHERE</pl-answer>
  <pl-answer correct="false">TAKE</pl-answer>
</pl-dropdown>
("Number of Movies", descending= <pl-dropdown sort="ascend" answers-name="desc">
    <pl-answer correct="true">TRUE</pl-answer>
    <pl-answer correct="false">FALSE</pl-answer>
  </pl-dropdown>
)
<!-- <input type="text" id="input"> -->
<button type="submit" onclick="sendData()">Visualize</button>

<p>MCQ Value: <span id="mcqValue"></span></p>
<p>DESC Value: <span id="descValue"></span></p>

<p></p>
</div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- 
<script>
    function test() {
        print($('pl-dropdown[answers-name="mcq"] pl-answer').text());
        <!-- var mcq = $('pl-dropdown[answers-name="mcq"] pl-answer').text();
        var desc = $('pl-dropdown[answers-name="desc"] pl-answer').text();
        console.log('mcq:', mcq);
        console.log('desc:', desc); -->
        
    }

    function sendData() {
        var mcq = $('pl-dropdown[answers-name="mcq"] pl-answer').text();
        var desc = $('pl-dropdown[answers-name="desc"] pl-answer').text();

        // Log the values of mcq and desc to the console
        console.log('mcq:', mcq);
        console.log('desc:', desc);

        // Display the values on the page for testing
        $('#mcqValue').text('MCQ: ' + mcq);
        $('#descValue').text('DESC: ' + desc);

        $.ajax({
            url: 'http://localhost:3000/pl/course/question/8/',  // Adjust the URL as needed
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({
                "mcq": mcq,
                "desc": desc
            }),
            success: function(response) {
                console.log('Success:', response);
                // Handle success response here
                var graded_df = response.df_sorted;
            },
            error: function(xhr, status, error) {
                console.error('Error:', error);
                // Handle error response here
            }
        });
    }

    /**
  document.getElementById("gradeButton").addEventListener("click", function() {
        fetch('http://localhost:3000/pl/course/1/question/8/',{
          method: 'POST',
          headers: {
              'Content-Type': 'application/json'
          },
          body: JSON.stringify({
              "mcq": document.querySelector('pl-dropdown[answers-name="mcq"] pl-answer[correct="true"]').innerText,
              "desc": document.querySelector('pl-dropdown[answers-name="desc"] pl-answer[correct="true"]').innerText
          })
      })
      .then(response => response.json())
      .then(data => {
          // Handle the response from the server
          console.log(data);
          // You can update the page with the graded data if needed
      })
      .catch(error => {
          console.error('Error:', error);
      });
  });
  */
  </script> -->
